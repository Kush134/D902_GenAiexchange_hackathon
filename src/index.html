<!doctype html>
<!--
 @license
 Copyright 2025 Google LLC. All Rights Reserved.
 SPDX-License-Identifier: Apache-2.0
-->
<!-- [START maps_3d_places] -->
<html>
  <head>
    <title>Map</title>
    <link rel="icon" type="image/x-icon" href="./assets/favicon.ico">
    <link rel="stylesheet" type="text/css" href="./style.css" />
    <link rel="stylesheet" type="text/css" href="./assets/custom-style.css" />
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css" rel="stylesheet">
    <script type="module" src="./js/main.js"></script>
  </head>
  <body class="bg-gray-200">
    <div id="home-map-container"></div>

    <div id="main-container" class="min-h-screen flex items-center justify-center">
      <div class="w-full max-w-lg bg-white p-6 rounded-lg shadow-lg">
  
        <div class="items-center mb-10">
          <a href="index.html" alt="Home"><img class="mx-auto h-auto w-2/3" src="./assets/logo.webp" alt="logo" /></a>
          <p class="text-center border-t-2 border-blue-600 pt-4 text-gray-800 mt-2 mb-4 text-lg font-medium">Your Smart
            Travel Guide <span class="text-blue-600 text-sm">in 3D</span></p>
        </div>
  
        <div id="instructions-container" class="items-left mb-8 bg-gray-100 p-5 rounded-md">
          <p class="text-black font-normal mb-2">Create Immersive <span class="font-bold">3D Tour</span> Itinerary in
            <span class="font-bold">3 Simple Steps</span>
          </p>
          <ol class="list-decimal mx-4 text-sm">
            <li class="p-1 m-1 text-blue-600 font-bold"><span class="text-black font-normal">Choose your Favorite
                City</span></li>
            <li class="p-1 m-1 text-blue-600 font-bold"><span class="text-black font-normal">Choose Number of Days</span>
            </li>
            <li class="p-1 m-1 text-blue-600 font-bold"><span class="text-black font-normal">Take a Virtual 3D Tour</span>
            </li>
          </ol>
        </div>
  
        <div id="start-container" class="items-center">
          <p class="text-center text-gray-600 mb-4">Ready for an adventure? Let's start planning!</p>
          <button id="startTourBtn" class="text-center bg-blue-600 text-white w-1/2 p-2 rounded-lg hover:bg-blue-700"
          >Explore Now!</button>
        </div>
  
        <!-- Steps Container -->
        <div class="steps-container mt-10">
  
          <!-- Step 1: Choose Destination -->
          <div id="step-1" class="step active">
            <p class="text-xs text-blue-600 mb-1">Step 1 of 3</p>
            <label for="destination" class="block text-gray-700 font-medium mb-2">Where would you like to go?</label>
            <select id="destination" name="destination" class="w-full border border-gray-300 rounded-lg p-2 mb-4">
              <option value="Berlin">Berlin</option>
              <option value="Cape Town">Cape Town</option>
              <option value="New York City">New York City</option>
              <option value="Paris">Paris</option>
              <option value="Rome">Rome</option>
              <option value="Sydney">Sydney</option>
              <option value="Tokyo">Tokyo</option>
            </select>
            <div class="text-center">
              <button id="storeDestinationAndMove"
                class="bg-blue-600 hover:bg-blue-700 shadow text-white w-1/2 py-2 rounded-lg">Next</button>
            </div>
            <p class="text-xs text-gray-600 mt-3"><strong>Note:</strong> Only limited cities have 3D map support.</p>

  
          </div>
  
          <!-- Step 2: Choose Number of Days -->
          <div id="step-2" class="step">
            <p class="text-xs text-blue-600 mb-1">Step 2 of 3</p>
            <label for="days" class="block text-gray-700 font-medium mb-2">What is your ideal travel timeframe?</label>
  
            <div class="flex flex-col items-center space-y-6 mt-4">
  
              <label for="day-slider" class="text-md text-gray-700">
                <span id="slider-value" class="text-md font-semibold text-blue-600">5 Days</span>
              </label>
  
              <div class="w-3/4 flex items-center">
                <input id="day-slider" type="range" min="1" max="3" step="1" value="2"
                  class="w-full appearance-none h-2 bg-gray-300 rounded-full cursor-pointer" />
                
              </div>
  
              <!-- Buttons Section -->
              <div class="flex justify-between w-full text-gray-600 font-medium">
                <span id="daySlideTo1"
                  class="cursor-pointer font-medium w-10 h-10 flex items-center justify-center text-white rounded-full bg-blue-600 shadow-md transition-all hover:bg-blue-700">&lt;5</span>
                <span id="daySlideTo2"
                  class="cursor-pointer font-medium w-10 h-10 flex items-center justify-center text-white rounded-full bg-blue-600 shadow-md transition-all hover:bg-blue-700">5</span>
                <span id="daySlideTo3"
                  class="cursor-pointer font-medium w-10 h-10 flex items-center justify-center text-white rounded-full bg-blue-600 shadow-md transition-all hover:bg-blue-700">&gt;5</span>
               </div>
  
  
  
              <button class="bg-blue-600 hover:bg-blue-700 shadow text-white w-1/2 p-2 rounded-lg"
                id="moveToStepBtn">
                Next
              </button>
            </div>
          </div>
  
          <!-- Step 3: Virtual 3D Tour -->
          <div id="step-3" class="step">
            <p class="text-xs text-blue-600 mb-1">Step 3 of 3</p>
            <p id="itinerary-prompt" class="text-gray-600 mb-4">Are you ready to take a virtual 3D tour?</p>
            <div class="text-center">
              <button class="bg-blue-600 hover:bg-blue-700 shadow text-white w-1/2 py-2 rounded-lg"
                id="take3dTourBtn">Lets Go!</button>
            </div>
          </div>
        </div>
  
        <!-- Itinerary Display -->
        <div id="itinerary" class="hidden mt-6 bg-gray-100 rounded-lg p-4">
          <h2 class="text-lg font-bold text-gray-800 mb-2">Your Rough Itinerary:</h2>
          <div id="itinerary-details" class="text-gray-700"></div>
          <button type="button" id="3dTourBtn"
            class="mt-6 w-full bg-blue-600 text-white py-3 rounded-lg hover:bg-blue-400 transition">Take a 3D Tour
            Now</button>
        </div>
      </div>
    </div>
  
    <div class="" id="map-area">
  
      <!-- Top Controls -->
      <div id="top-controls"
        class="z-40 fixed top-4 right-4 bg-white shadow-lg flex justify-between items-center border-t-2 border-b-2 border-blue-600">
        <div class="">
          <button id="shopping"
            class="m-1 text-xs text-gray-800 py-1 px-2 hover:bg-gray-300 hover:rounded-lg">
            <i class="fas fa-cart-shopping text-blue-600 text-2xl"></i><br />
            Shopping
          </button>
          <button id="food"
            class="m-1 text-xs text-gray-800 py-1 px-2 hover:bg-gray-300 hover:rounded-lg">
            <i class="fas fa-utensils text-blue-600 text-2xl"></i><br />Food
          </button>
          <button id="transport" 
            class="m-1 text-xs text-gray-800 py-1 px-2 hover:bg-gray-300 hover:rounded-lg">
            <i class="fas fa-bus text-blue-600 text-2xl"></i><br />Transport
          </button>
          <button id="bank" 
            class="m-1 text-xs text-gray-800 py-1 px-2 hover:bg-gray-300 hover:rounded-lg">
            <i class="fas fa-building-columns text-blue-600 text-2xl"></i><br />Bank
          </button>
        </div>
      </div>
  
      <!-- Map Container -->
      <div id="map-container" class=""></div>
  
      <div id="info-box" class="">
        <div id="info-box-header"
          class="flex bg-gray-100 border-b-2 border-blue-600 p-4 cursor-pointer justify-between items-center">
          <div>
            <p class="block font-bold text-blue-600 text-lg" id="info-box-content-header-1">Day 1</p>
            <p class="block font-normal text-xs text-gray-600" id="info-box-content-header-2">(Activity 1)</p>
          </div>
          <div class="flex items-center gap-2">
            <p class="block text-gray-800 font-medium text-lg" id="info-box-content">Select a marker to see details.</p>
            <span id="chevron-icon" class="transition-transform">
              <i class="fas fa-chevron-down text-blue-600 text-xl"></i>
            </span>
          </div>
        </div>
        <div id="info-box-body" class="mt-4 p-4 hidden">
          <p class="mb-2 text-sm"><span class="font-medium text-blue-600">Place Name:</span> <span id="place-name"></span>
          </p>
          <p class="mb-2 text-sm"><span class="font-medium text-blue-600">Address:</span> <span id="place-address"></span>
          </p>
          <p class="mb-2 text-sm"><span class="font-medium text-blue-600">Summary:</span> <span id="place-summary"></span>
          </p>
          <p class="mb-2 text-sm"><span class="font-medium text-blue-600">Rating:</span> <span id="place-rating"></span>
          </p>
          <div id="place-photo-box" class="mt-3">
            <img id="place-photo" class="h-auto max-w-xs mx-auto rounded-lg m-3" src="" alt="Place Image" />
            <img id="place-photo-2" class="h-auto max-w-xs mx-auto rounded-lg m-3" src="" alt="Place Image" />
          </div>
        </div>
      </div>
  
      <!-- Display Area -->
      <div id="display-area" class="">
  
        <!-- Results List -->
        <div id="nearby-places-container" class="mt-4 bg-white bg-opacity-50 shadow-lg rounded-md mx-auto">
          <div class="flex bg-gray-100 border-b-2 border-blue-600 p-4 mb-4 cursor-pointer justify-between items-center">
            <h2 id="info-box-content" class="text-lg text-blue-600 font-bold">Our Recommendations:</h2>
            <button id="clearNearbyPlacesBtn" class="text-blue-600 hover:text-gray-700 text-xl"><i
                class="fas fa-times text-blue-600 text-xl"></i></button>
          </div>
          <ul id="places-list" class="block m-2 p-1"></ul>
        </div>
      </div>
  
  
    </div>
  
    <!-- Popup Container -->
    <div id="popup" class="fixed bottom-42 right-4 w-1/3  bg-black bg-opacity-50 flex justify-left items-left">
      <div class="bg-white rounded-lg shadow-lg p-4">
  
        <div class="flex justify-between">
          <h2 id="popup-title" class="text-sm font-bold text-blue-600">Place Title</h2>
          <button id="closePopupBtn" class="text-blue-600 hover:text-gray-700 text-xl"><i
              class="fas fa-times text-blue-600 text-xl"></i></button>
        </div>
  
        <div id="" class="mt-2">
          <div id="popup-photo-box" class="mb-4">
            <img id="popup-photo" class="h-auto max-w-xs mx-auto rounded-lg" src="" alt="Place Image" />
          </div>
          <p class="mb-4 text-xs"><span class="font-medium text-blue-600">Address:</span> <span id="popup-address"></span>
          </p>
          <p class="mb-4 text-xs"><span class="font-medium text-blue-600">Summary:</span> <span id="popup-summary"></span>
          </p>
          <p class="mb-4 text-xs"><span class="font-medium text-blue-600">Rating:</span> <span id="popup-rating"></span>
          </p>
        </div>
      </div>
    </div>
  
    <!-- info-popup -->
    <div id="info-popup" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center">
      <div class="bg-white rounded-lg shadow-lg w-3/4 max-w-lg p-6">
        <div class="flex justify-between items-center mb-2">
          <h2 class="text-xl font-bold text-blue-600">How to Use</h2>
          <button class="text-blue-600 hover:text-gray-700 text-xl closeInfoPopupBtn"><i
              class="fas fa-times text-blue-600 text-xl"></i></button>
        </div>
        <ul class="list-disc list-inside space-y-2 mt-4 text-gray-800 text-sm">
          <li>Use the Previous and Next <strong>Navigation Buttons</strong> to explore the itinerary in immersive 3D.</li>
          <li>Use your mouse to navigate the 3D map and discover the surrounding areas.</li>
          <li>A summary of the day's activities will be displayed below as you progress.</li>
          <li>Click on any <strong>Marker</strong> on the map to learn more about a specific place.</li>
          <li>Find nearby places like Shopping, Restaurans, Transport and Banks.</li>
          <li>Use the <strong>Toggle</strong> button to switch labels on or off for a clearer view.</li>
          <li>A day-wise tracker at the bottom will help you follow your journey step by step.</li>
        </ul>
        <div class="mt-4 flex justify-end">
          <button class="bg-blue-600 text-white px-4 py-2 rounded-md shadow hover:bg-blue-700 closeInfoPopupBtn">
            Got it!
          </button>
        </div>
      </div>
    </div>
  
    <!-- The END Popup -->
    <div id="the-end-popup" class="fixed inset-0 bg-black bg-opacity-50 flex justify-center items-center">
      <div class="bg-white rounded-lg shadow-lg w-3/4 max-w-lg">
        <div class="flex justify-between items-center border-b-2 border-blue-600 bg-gray-200 p-4  mb-4">
          <h2 class="text-lg font-bold text-blue-600">Your Tour Ends Here!</h2>
          <button id="closeTheEndPopupBtn" class="text-blue-600 hover:text-blue-700 text-xl"><i
              class="fas fa-times text-blue-600 text-xl"></i></button>
        </div>
        <div class="p-6 text-sm">
          <p class="mb-2">Thank you for trying AJourney, your smart 3D Virtual Tour Guide.</p>
          <p>We hope you enjoyed exploring the world from above!</p>
          <div class="mt-6 flex justify-end">
            <button id="closeTheEndPopupAndStatOverBtn"
              class="bg-blue-600 text-white px-4 py-2 rounded-md shadow hover:bg-blue-700">
              Start Over!
            </button>
          </div>
        </div>
      </div>
    </div>
  
    <!-- Loading Overlay -->
    <div id="loading-overlay">
      <div class="flex justify-center">
        <div class="text-center p-10">
          <p class="text-blue-600 text-xl font-medium mb-4">Preparing your 3D tour...</p>
          <i class="fas fa-earth text-blue-600 text-8xl animate-spin"></i>
          <p class="mt-10 text-gray-600 mb-4">Getting Ready in
            <span class="text-4xl text-blue-600 font-bold" id="countdown"></span>
            <span> seconds</span>
          </p>
        </div>
  
        <div class="justify-between items-center mb-2 p-10">
          <h2 class="text-xl font-bold text-blue-600">In the meantime learn how to use</h2>
          <ul class="list-disc list-inside space-y-2 mt-4 text-gray-800 text-sm">
            <li>Use the Previous and Next <strong>Navigation Buttons</strong> to explore the itinerary in immersive 3D.
            </li>
            <li>Use your mouse to navigate the 3D map and discover the surrounding areas.</li>
            <li>A summary of the day's activities will be displayed below as you progress.</li>
            <li>Click on any <strong>Marker</strong> on the map to learn more about a specific place.</li>
            <li>Find nearby places like Shopping, Restaurans, Transport and Banks.</li>
            <li>Use the <strong>Toggle</strong> button to switch labels on or off for a clearer view.</li>
            <li>A day-wise tracker at the bottom will help you follow your journey step by step.</li>
          </ul>
        </div>
      </div>
    </div>
  
    <!-- Bottom Controls -->
    <div id="map-controls"
      class="mt-auto fixed bottom-0 left-0 right-0 bg-gray-200 shadow-lg py-2 flex justify-between items-center px-2">
  
      <div class="flex items-left">
        <a href="index.html" title="Home">
          <img src='./assets/logo-sm.webp' alt="logo" class="w-10 h-10 mr-8" />
        </a>
        <div id="progressTracker" class="flex justify-center"></div>
      </div>
  
      <div class="flex items-right">
        <button id="prevStep3D"
          class="text-lg mx-4 bg-blue-600 text-white px-4 py-2 rounded-md shadow hover:bg-blue-700 focus:outline-none">
          <i class="fas fa-arrow-left text-white text-xl "></i>
        </button>
        <p id="" class="">
        <div>
          <p id="currentStep3DLabelDay" class="block font-bold text-blue-600 text-2xl">Day 1</p>
          <p id="currentStep3DLabelActivity" class="block font-normal text-md text-gray-600">(Activity 1)</p>
        </div>
        </p>
        <button id="nextStep3D"
          class="text-lg mx-4 bg-blue-600 text-white px-4 py-2 rounded-md shadow hover:bg-blue-700 focus:outline-none">
          <i class="fas fa-arrow-right text-white text-xl"></i>
        </button>
  
        <div class="mx-4 flex justify-center items-center">
          <label class="cursor-pointer flex items-center">
            <input type="checkbox" value="" class="sr-only peer">
            <div id="togglePoiBtn3D"
              class="relative w-11 h-6 bg-gray-200 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full rtl:peer-checked:after:-translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:start-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-green-600">
            </div>
            <span class="ms-3 text-sm font-medium text-gray-800 dark:text-gray-600">Label Switch</span>
          </label>
        </div>
      </div>
    </div>

    <!-- prettier-ignore -->
    <script>(g=>{var h,a,k,p="The Google Maps JavaScript API",c="google",l="importLibrary",q="__ib__",m=document,b=window;b=b[c]||(b[c]={});var d=b.maps||(b.maps={}),r=new Set,e=new URLSearchParams,u=()=>h||(h=new Promise(async(f,n)=>{await (a=m.createElement("script"));e.set("libraries",[...r]+"");for(k in g)e.set(k.replace(/[A-Z]/g,t=>"_"+t[0].toLowerCase()),g[k]);e.set("callback",c+".maps."+q);a.src=`https://maps.${c}apis.com/maps/api/js?`+e;d[q]=f;a.onerror=()=>h=n(Error(p+" could not load."));a.nonce=m.querySelector("script[nonce]")?.nonce||"";m.head.append(a)}));d[l]?console.warn(p+" only loads once. Ignoring:",g):d[l]=(f,...n)=>r.add(f)&&u().then(()=>d[l](f,...n))})
        ({key: "AIzaSyBw0hYuwccK55mcIihmGf0hPeHOo1HZQYo", v: "beta",});</script> 
    
  </body>
</html>
<!-- [END maps_3d_places] -->
